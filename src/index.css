@import "tailwindcss";

@theme {
  /* === Backgrounds & Surfaces === */
  --color-background: oklch(0.95 0.008 80);
  --color-background-light: oklch(0.995 0.005 80);
  --color-background-dark: oklch(0.93 0.010 80);

  /* === Text === */
  --color-text: oklch(0.20 0.015 80);
  --color-text-light: oklch(0.98 0.008 80);

  /* === Brand & Accent === */
  --color-primary: oklch(0.65 0.22 25);
  --color-secondary: oklch(0.35 0.06 250);
  --color-accent: oklch(0.70 0.13 200);

  /* === Status Colors === */
  --color-success: oklch(0.60 0.18 145);
  --color-warning: oklch(0.82 0.19 80);
  --color-error: oklch(0.55 0.23 25);
}

/* NOTE: this duplicates the light mode @theme above, 
so you have to change it in two places */
:root {
  /* === Backgrounds & Surfaces === */
  --color-background: oklch(0.95 0.008 80);
  --color-background-light: oklch(0.995 0.005 80);
  --color-background-dark: oklch(0.93 0.010 80);

  /* === Text === */
  --color-text: oklch(0.20 0.015 80);
  --color-text-light: oklch(0.98 0.008 80);

  /* === Brand & Accent === */
  --color-primary: oklch(0.65 0.22 25);
  --color-secondary: oklch(0.35 0.06 250);
  --color-accent: oklch(0.70 0.13 200);

  /* === Status Colors === */
  --color-success: oklch(0.60 0.18 145);
  --color-warning: oklch(0.82 0.19 80);
  --color-error: oklch(0.55 0.23 25);
}


@media (prefers-color-scheme: dark) {
  :root {
    /* === Backgrounds & Surfaces === */
    --color-background: oklch(0.18 0.01 80);
    --color-background-light: oklch(0.26 0.015 80);
    --color-background-dark: oklch(0.10 0.008 80);

    /* === Text === */
    --color-text: oklch(0.97 0.01 80);
    --color-text-light: oklch(0.20 0.015 80);

    /* === Brand & Accent === */
    --color-primary: oklch(0.65 0.22 25);
    --color-secondary: oklch(0.55 0.08 250);
    --color-accent: oklch(0.70 0.13 200);

    /* === Status Colors === */
    --color-success: oklch(0.66 0.19 145);
    --color-warning: oklch(0.88 0.21 80);
    --color-error: oklch(45.912% 0.17223 21.012);
  }
}


@layer components {
    .dashboard-header-link {
        @apply hover:bg-pink-200;
        @apply hover:text-purple-900;
        @apply focus:ring-neutral-50;
        @apply active:bg-pink-600;
        @apply active:text-fuchsia-100;
        @apply focus:border;
        @apply m-1;
        @apply p-1;
        @apply text-[clamp(0.5rem,1vw,0.75rem)]
    }

    .site-content-container {
        @apply w-full h-full grid box-border overflow-y-auto;
    }
}

@layer utilities {
  .text-shadow-sm {
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.25);
  }
  .text-shadow {
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
  }
  .text-shadow-lg {
    text-shadow: 4px 4px 6px rgba(0, 0, 0, 0.4);
  }
}

@layer base {
  html, body {
    @apply overflow-x-auto;
  }

  html, body, #root {
    height: 100%;
    @apply bg-background text-text;
  }
}

/* Small screens (phones) */
@media (max-width: 500px) {
  .itemspread-legend {
    display: none;
  }
}

/* Large screens (desktops) */
@media (min-width: 501px) and (max-width: 1100px) {
    .site-content-container {
        @apply grid-cols-2;
    }

    .lessons-reviews-recent-mistakes-itemspread {
        @apply col-start-1 col-end-3 grid grid-rows-[auto_auto_auto_auto];
    }

    .lessons-reviews {
        @apply grid grid-cols-2 col-start-1 col-end-3;
    }

    .lessons {
        @apply col-start-1 col-end-2;
    }

    .reviews {
        @apply col-start-2 col-end-3;
    }

    .recent-mistakes {
        @apply row-start-2 row-end-3 col-start-1 col-end-3;
    }

    .item-spread {
        @apply row-start-3 row-end-4 col-start-1 col-end-3;
    }

    .review-forecast {
        @apply col-start-1 col-end-3 row-start-4 row-end-5;
    }
}

/* Ultra large screens (wide desktop, 3-column layout) */
@media (min-width: 1101px) {
    .site-content-container {
        @apply grid grid-cols-3 grid-rows-1 h-full;
    }

    /* Left 2/3 column group (lessons + reviews + mistakes + item spread) */
    .lessons-reviews-recent-mistakes-itemspread {
        @apply col-start-1 col-end-3 grid grid-rows-[auto_auto_auto] h-full;
    }

    .lessons-reviews {
      @apply row-start-1 row-end-2 col-start-1 col-end-3 grid grid-cols-2 w-full;
    }

    .lessons {
        @apply col-start-1 col-end-2;
    }

    .reviews {
        @apply col-start-2 col-end-3;
    }

    .recent-mistakes {
        @apply row-start-2 row-end-3 col-start-1 col-end-3;
    }

    .item-spread {
        @apply row-start-3 row-end-4 col-start-1 col-end-3;
    }

    /* Rightmost column (forecast panel) */
    .review-forecast {
        @apply col-start-3 col-end-4 row-start-1 row-end-4;
    }
}
